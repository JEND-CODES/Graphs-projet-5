{% extends 'base.html.twig' %}
{% block title %}Modération des commentaires{% endblock %}
{% block body %}

<!-- V-card Background-color -->
<v-card flat outlined style="z-index:-1;position:fixed;top:0;left:0;height:100%;width:100%;background-color:#85C1E9;"></v-card>

{% if app.user.id is defined and app.user.id == '1' %}

<v-layout justify-center>

    <v-flex xs12 sm12 md9 lg6 class="mt-5">

        <v-card color="rgba(255,255,255,0)" outlined>

            <v-container fluid grid-list-lg>

                <v-layout row wrap>

                    <v-flex>
                        
                        {% for commentlist in commentlists %}

                        <v-card>
                            <v-container fill-height fluid pa-2>

                                <v-flex>

                                    <p>Par {{ commentlist.author }} le {{ commentlist.createdAt | date('d/m/Y à H:i') }}</p>

                                    <hr class="simple-line mt-n2">

                                    <p class="mt-2">" {{ commentlist.content | striptags | raw }} "</p>

                                    <!--<div id="commentaires" style="float:right;">
                                        
                                        <a href="/projet5/public/index.php/backcom/delete/{{ commentlist.id }}" class="trash-comment" trash-id="{{ commentlist.id }}"><i class="far fa-trash-alt"></i>&nbsp;&nbsp;Supprimer </a>
                                        
                                    </div>-->

                                    <v-btn small outlined color="blue lighten-2" href="{{ path('delete_comment', {'id': commentlist.id}) }}" style="float:right;"><i class="far fa-trash-alt"></i></v-btn>

                                </v-flex>

                            </v-container>
                        </v-card>

                        <br />

                        {% endfor %}

                    </v-flex>
                </v-layout>

            </v-container>
        </v-card>
    </v-flex>
</v-layout>

<div class="text-center white--text mt-n10">
    
    {{ knp_pagination_render(commentlists) }}

</div>

{% else %}

<v-container>

    <v-layout row wrap>

        <v-col cols="12">

            <v-card class="white--text text-center pa-5" outlined color="rgba(255,255,255,0)">

                <p>Connexion nécessaire</p>

            </v-card>

        </v-col>

    </v-layout>

</v-container>

<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />

{% endif %}

{% endblock %}

{% block javascripts %}

<script src="/projet5/public/js/main.js"></script>

{% endblock %}
